{"version":3,"file":"dist/clubber.min.js","sources":["dist/clubber.js"],"names":["modules","installedModules","__webpack_require__","moduleId","exports","module","id","loaded","call","m","c","p","Clubber","config","this","context","window","AudioContext","webkitAudioContext","analyser","createAnalyser","fftSize","size","mute","Object","defineProperty","get","smoothingTimeConstant","set","value","_muted","connect","destination","disconnect","bufferLength","frequencyBinCount","muted","data","Uint8Array","keys","noteSums","Uint16Array","notes","weights","maxBin","lastkey","idx","i","inc","sampleRate","freq","key","Math","floor","log","holeIndex","prototype","listen","obj","source","AudioNode","el","_mediaElementSource","createMediaElementSource","band","scope","parseConfig","defaults","from","to","low","high","smooth","adapt","snap","step","template","k","t","length","push","parseInt","rect","Float32Array","output","offset","fill","arr","Array","isArray","min","fromArray","arguments","time","s","val","midx","mval","vsum","nsum","xsum","psum","osum","cnt","V","v","x","avg","smoothFn","o","f","undefined","abs","width","av","height","_height","area","ah","al","max","of","ot","tmax","forEach","update","isProcessed","cache","self","getByteFrequencyData","lastIndex","lastVal","w","di","dv","j","isNaN","parseFloat","performance","now","descriptions"],"mappings":"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"}